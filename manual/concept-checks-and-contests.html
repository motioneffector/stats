<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checks and Contests - @motioneffector/stats</title>
  <link rel="stylesheet" href="../demo-files/demo.css">
  <link rel="stylesheet" href="manual.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', () => hljs.highlightAll());</script>
</head>
<body>
  <div class="page">
    <header class="header">
      <h1 class="header-title">@motioneffector/stats</h1>
      <p class="header-description">Documentation</p>
      <nav class="header-links">
        <a href="../index.html" class="header-link">Demo</a>
        <a href="https://www.npmjs.com/package/@motioneffector/stats" class="header-link">npm</a>
        <a href="https://github.com/motioneffector/stats" class="header-link">GitHub</a>
      </nav>
    </header>

    <div class="manual-layout">
      <aside class="manual-sidebar">
        <nav class="sidebar-nav">
<p><strong><a href="index.html">@motioneffector/stats</a></strong></p>
<p><strong>Getting Started</strong></p>
<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="your-first-character.html">Your First Character</a></li>
</ul>
<p><strong>Core Concepts</strong></p>
<ul>
<li><a href="concept-stat-blocks.html">Stat Blocks</a></li>
<li><a href="concept-dice-notation.html">Dice Notation</a></li>
<li><a href="concept-modifiers.html">Modifiers</a></li>
<li><a href="concept-checks-and-contests.html">Checks and Contests</a></li>
<li><a href="concept-derived-stats.html">Derived Stats</a></li>
</ul>
<p><strong>Guides</strong></p>
<ul>
<li><a href="guide-rolling-dice.html">Rolling Dice</a></li>
<li><a href="guide-working-with-modifiers.html">Working with Modifiers</a></li>
<li><a href="guide-making-checks.html">Making Checks</a></li>
<li><a href="guide-using-derived-stats.html">Using Derived Stats</a></li>
<li><a href="guide-saving-and-loading-state.html">Saving and Loading State</a></li>
<li><a href="guide-using-stat-templates.html">Using Stat Templates</a></li>
<li><a href="guide-using-roll-tables.html">Using Roll Tables</a></li>
</ul>
<p><strong>API Reference</strong></p>
<ul>
<li><a href="api-dice.html">Dice API</a></li>
<li><a href="api-stat-block.html">Stat Block API</a></li>
<li><a href="api-checks.html">Checks API</a></li>
<li><a href="api-utilities.html">Utilities API</a></li>
<li><a href="api-types.html">Types</a></li>
<li><a href="api-errors.html">Errors</a></li>
</ul>

        </nav>
      </aside>

      <main class="manual-content">
        <article class="manual-article">
<h1>Checks and Contests</h1>
<p>A check tests whether a character succeeds at a task by rolling dice and comparing the result to a difficulty class (DC). A contest pits two characters against each other, each rolling and comparing totals. Both use D&amp;D 5e-style mechanics with advantage and disadvantage.</p>
<h2>How It Works</h2>
<h3>Checks</h3>
<p>A check rolls dice (default: 1d20), adds the stat&#39;s modifier, and compares to the DC:</p>
<pre><code>Total = Roll + Modifier + Bonus
Success = Total &gt;= DC
</code></pre>
<p>The modifier is calculated from the stat value using the D&amp;D formula by default:</p>
<pre><code>Modifier = floor((stat - 10) / 2)
</code></pre>
<table>
<thead>
<tr>
<th>Stat Value</th>
<th>Modifier</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>-5</td>
</tr>
<tr>
<td>10</td>
<td>0</td>
</tr>
<tr>
<td>14</td>
<td>+2</td>
</tr>
<tr>
<td>18</td>
<td>+4</td>
</tr>
<tr>
<td>20</td>
<td>+5</td>
</tr>
</tbody></table>
<h3>Contests</h3>
<p>A contest has both participants roll. Whoever has the higher total wins:</p>
<pre><code>Participant A: Roll + Modifier
Participant B: Roll + Modifier
Winner = higher total (tie if equal)
</code></pre>
<h2>Basic Usage</h2>
<pre><code class="language-typescript">import { createStatBlock, check, contest } from &#39;@motioneffector/stats&#39;

const hero = createStatBlock({
  strength: { base: 16 }
})

// Make a strength check against DC 15
const result = check(hero, &#39;strength&#39;, { difficulty: 15 })

console.log(result.success)  // true or false
console.log(result.roll)     // the d20 result
console.log(result.modifier) // +3 (from 16 strength)
console.log(result.total)    // roll + modifier
console.log(result.margin)   // how much you beat/missed the DC by
</code></pre>
<p>The <code>margin</code> is positive if you succeeded, negative if you failed.</p>
<h2>Key Points</h2>
<ul>
<li><strong>Default dice is 1d20</strong> — Override with the <code>dice</code> option for other systems.</li>
<li><strong>Advantage rolls twice, takes higher</strong> — Disadvantage takes lower. Both cancel out.</li>
<li><strong>Custom modifier formulas are supported</strong> — Set <code>modifierFormula</code> in stat block options.</li>
<li><strong>The <code>bonus</code> option adds to the roll</strong> — Use for proficiency, situational bonuses, etc.</li>
</ul>
<h2>Advantage and Disadvantage</h2>
<p>When you have advantage, roll twice and take the higher result. Disadvantage takes the lower. If you have both, they cancel out and you roll normally.</p>
<pre><code class="language-typescript">import { createStatBlock, check } from &#39;@motioneffector/stats&#39;

const hero = createStatBlock({
  dexterity: { base: 14 }
})

// Roll with advantage (two d20s, take higher)
const stealthCheck = check(hero, &#39;dexterity&#39;, {
  difficulty: 12,
  advantage: true
})

console.log(stealthCheck.rolls) // [8, 15] — both rolls shown
console.log(stealthCheck.roll)  // 15 — the one that counted
</code></pre>
<h2>Examples</h2>
<h3>Skill Check with Proficiency Bonus</h3>
<pre><code class="language-typescript">import { createStatBlock, check } from &#39;@motioneffector/stats&#39;

const hero = createStatBlock({
  wisdom: { base: 14 }
})

const proficiencyBonus = 3

const perceptionCheck = check(hero, &#39;wisdom&#39;, {
  difficulty: 15,
  bonus: proficiencyBonus
})

// Total = d20 roll + wisdom modifier (+2) + proficiency (+3)
</code></pre>
<h3>Saving Throw (Simple Pass/Fail)</h3>
<pre><code class="language-typescript">import { createStatBlock, saveThrow } from &#39;@motioneffector/stats&#39;

const hero = createStatBlock({
  constitution: { base: 12 }
})

const passed = saveThrow(hero, &#39;constitution&#39;, 14)
if (passed) {
  console.log(&#39;Resisted the poison!&#39;)
} else {
  console.log(&#39;Poisoned!&#39;)
}
</code></pre>
<p>The <code>saveThrow</code> function is a simplified wrapper that returns just a boolean.</p>
<h3>Opposed Contest</h3>
<pre><code class="language-typescript">import { createStatBlock, contest } from &#39;@motioneffector/stats&#39;

const hero = createStatBlock({ strength: { base: 16 } })
const orc = createStatBlock({ strength: { base: 14 } })

const grapple = contest(hero, &#39;strength&#39;, orc, &#39;strength&#39;)

console.log(grapple.winner) // &#39;a&#39;, &#39;b&#39;, or &#39;tie&#39;
console.log(grapple.totals) // { a: 18, b: 12 }
console.log(grapple.margin) // 6
</code></pre>
<h3>Custom Dice (Non-D&amp;D Systems)</h3>
<pre><code class="language-typescript">import { createStatBlock, check } from &#39;@motioneffector/stats&#39;

const hero = createStatBlock({
  skill: { base: 5 }
})

// Roll 2d10 instead of 1d20
const result = check(hero, &#39;skill&#39;, {
  difficulty: 12,
  dice: &#39;2d10&#39;
})
</code></pre>
<h3>Custom Modifier Formula</h3>
<pre><code class="language-typescript">import { createStatBlock, check } from &#39;@motioneffector/stats&#39;

// Use stat value directly as modifier (no D&amp;D formula)
const hero = createStatBlock(
  { skill: { base: 5 } },
  { modifierFormula: (value) =&gt; value }
)

const result = check(hero, &#39;skill&#39;, { difficulty: 10 })
console.log(result.modifier) // 5 (the stat value itself)
</code></pre>
<h2>Related</h2>
<ul>
<li><strong><a href="concept-dice-notation.html">Dice Notation</a></strong> — Understanding dice syntax for custom rolls</li>
<li><strong><a href="guide-making-checks.html">Making Checks</a></strong> — Step-by-step guide to checks and contests</li>
<li><strong><a href="api-checks.html">Checks API</a></strong> — Full reference for <code>check</code>, <code>saveThrow</code>, <code>contest</code></li>
</ul>

        </article>
      </main>
    </div>
  </div>
</body>
</html>
